{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table-12",
  "title": "Data Table 12",
  "description": "Data table with export functionality supporting CSV, Excel, and multiple formats",
  "dependencies": [
    "lucide-react",
    "papaparse",
    "@tanstack/react-table",
    "xlsx"
  ],
  "registryDependencies": [
    "badge",
    "button",
    "checkbox",
    "dropdown-menu",
    "input",
    "table",
    "utils"
  ],
  "files": [
    {
      "path": "src/components/shadcn-studio/data-table/data-table-12.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\n\nimport { DownloadIcon, FileTextIcon, FileSpreadsheetIcon } from 'lucide-react'\n\nimport Papa from 'papaparse'\nimport * as XLSX from 'xlsx'\n\nimport type { ColumnDef, ColumnFiltersState, SortingState, VisibilityState } from '@tanstack/react-table'\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable\n} from '@tanstack/react-table'\n\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Input } from '@/components/ui/input'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\nimport { cn } from '@/lib/utils'\n\nconst data: Payment[] = [\n  {\n    id: '1',\n    name: 'Shang Chain',\n    amount: 699,\n    status: 'success',\n    email: 'shang07@yahoo.com'\n  },\n  {\n    id: '2',\n    name: 'Kevin Lincoln',\n    amount: 242,\n    status: 'success',\n    email: 'kevinli09@gmail.com'\n  },\n  {\n    id: '3',\n    name: 'Milton Rose',\n    amount: 655,\n    status: 'processing',\n    email: 'rose96@gmail.com'\n  },\n  {\n    id: '4',\n    name: 'Silas Ryan',\n    amount: 874,\n    status: 'success',\n    email: 'silas22@gmail.com'\n  },\n  {\n    id: '5',\n    name: 'Ben Tenison',\n    amount: 541,\n    status: 'failed',\n    email: 'bent@hotmail.com'\n  },\n  {\n    id: '6',\n    name: 'Alice Cooper',\n    amount: 321,\n    status: 'processing',\n    email: 'alice@email.com'\n  },\n  {\n    id: '7',\n    name: 'Bob Johnson',\n    amount: 789,\n    status: 'success',\n    email: 'bob.j@company.com'\n  },\n  {\n    id: '8',\n    name: 'Carol Williams',\n    amount: 456,\n    status: 'processing',\n    email: 'carol.w@domain.org'\n  }\n]\n\nexport type Payment = {\n  id: string\n  name: string\n  amount: number\n  status: 'processing' | 'success' | 'failed'\n  email: string\n}\n\nexport const columns: ColumnDef<Payment>[] = [\n  {\n    id: 'select',\n    header: ({ table }) => (\n      <Checkbox\n        checked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n        onCheckedChange={value => table.toggleAllPageRowsSelected(!!value)}\n        aria-label='Select all'\n      />\n    ),\n    cell: ({ row }) => (\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={value => row.toggleSelected(!!value)}\n        aria-label='Select row'\n      />\n    ),\n    enableSorting: false,\n    enableHiding: false\n  },\n  {\n    accessorKey: 'name',\n    header: 'Name',\n    cell: ({ row }) => <div className='font-medium'>{row.getValue('name')}</div>\n  },\n  {\n    accessorKey: 'status',\n    header: 'Status',\n    cell: ({ row }) => {\n      const status = row.getValue('status') as string\n\n      const styles = {\n        success:\n          'bg-green-600/10 text-green-600 focus-visible:ring-green-600/20 dark:bg-green-400/10 dark:text-green-400 dark:focus-visible:ring-green-400/40 [a&]:hover:bg-green-600/5 dark:[a&]:hover:bg-green-400/5',\n        failed:\n          'bg-destructive/10 [a&]:hover:bg-destructive/5 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 text-destructive',\n        processing:\n          'bg-amber-600/10 text-amber-600 focus-visible:ring-amber-600/20 dark:bg-amber-400/10 dark:text-amber-400 dark:focus-visible:ring-amber-400/40 [a&]:hover:bg-amber-600/5 dark:[a&]:hover:bg-amber-400/5'\n      }[status]\n\n      return <Badge className={(cn('border-none focus-visible:outline-none'), styles)}>{row.getValue('status')}</Badge>\n    }\n  },\n  {\n    accessorKey: 'email',\n    header: 'Email',\n    cell: ({ row }) => <div className='lowercase'>{row.getValue('email')}</div>\n  },\n  {\n    accessorKey: 'amount',\n    header: () => <div className='text-right'>Amount</div>,\n    cell: ({ row }) => {\n      const amount = parseFloat(row.getValue('amount'))\n\n      const formatted = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD'\n      }).format(amount)\n\n      return <div className='text-right font-medium'>{formatted}</div>\n    }\n  }\n]\n\nconst DataTableWithExportDemo = () => {\n  const [sorting, setSorting] = useState<SortingState>([])\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\n  const [columnVisibility, setColumnVisibility] = useState<VisibilityState>({})\n  const [rowSelection, setRowSelection] = useState({})\n  const [globalFilter, setGlobalFilter] = useState('')\n\n  const table = useReactTable({\n    data,\n    columns,\n    onSortingChange: setSorting,\n    onColumnFiltersChange: setColumnFilters,\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: setRowSelection,\n    onGlobalFilterChange: setGlobalFilter,\n    globalFilterFn: 'includesString',\n    state: {\n      sorting,\n      columnFilters,\n      columnVisibility,\n      rowSelection,\n      globalFilter\n    }\n  })\n\n  const exportToCSV = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const csv = Papa.unparse(dataToExport, {\n      header: true\n    })\n\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n\n    link.setAttribute('href', url)\n    link.setAttribute('download', `payments-export-${new Date().toISOString().split('T')[0]}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const exportToExcel = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const worksheet = XLSX.utils.json_to_sheet(dataToExport)\n    const workbook = XLSX.utils.book_new()\n\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Payments')\n\n    const cols = [{ wch: 10 }, { wch: 20 }, { wch: 15 }, { wch: 25 }, { wch: 15 }]\n\n    worksheet['!cols'] = cols\n\n    XLSX.writeFile(workbook, `payments-export-${new Date().toISOString().split('T')[0]}.xlsx`)\n  }\n\n  const exportToJSON = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const json = JSON.stringify(dataToExport, null, 2)\n    const blob = new Blob([json], { type: 'application/json' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n\n    link.setAttribute('href', url)\n    link.setAttribute('download', `payments-export-${new Date().toISOString().split('T')[0]}.json`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  return (\n    <div className='w-full'>\n      <div className='flex justify-between gap-2 pb-4 max-sm:flex-col sm:items-center'>\n        <div className='flex items-center space-x-2'>\n          <Input\n            placeholder='Search all columns...'\n            value={globalFilter ?? ''}\n            onChange={event => setGlobalFilter(String(event.target.value))}\n            className='max-w-sm'\n          />\n        </div>\n        <div className='flex items-center space-x-2'>\n          <div className='text-muted-foreground text-sm'>\n            {table.getSelectedRowModel().rows.length > 0 && (\n              <span className='mr-2'>\n                {table.getSelectedRowModel().rows.length} of {table.getFilteredRowModel().rows.length} row(s) selected\n              </span>\n            )}\n          </div>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant='outline' size='sm'>\n                <DownloadIcon className='mr-2' />\n                Export\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align='end'>\n              <DropdownMenuItem onClick={exportToCSV}>\n                <FileTextIcon className='mr-2 size-4' />\n                Export as CSV\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={exportToExcel}>\n                <FileSpreadsheetIcon className='mr-2 size-4' />\n                Export as Excel\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={exportToJSON}>\n                <FileTextIcon className='mr-2 size-4' />\n                Export as JSON\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n      <div className='rounded-md border'>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map(headerGroup => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map(header => {\n                  return (\n                    <TableHead key={header.id}>\n                      {header.isPlaceholder ? null : flexRender(header.column.columnDef.header, header.getContext())}\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map(row => (\n                <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'}>\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id}>{flexRender(cell.column.columnDef.cell, cell.getContext())}</TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className='h-24 text-center'>\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n      <p className='text-muted-foreground mt-4 text-center text-sm'>\n        Data table with export functionality (CSV, Excel, JSON)\n      </p>\n    </div>\n  )\n}\n\nexport default DataTableWithExportDemo\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/data-table/data-table-12.tsx"
    }
  ],
  "type": "registry:component"
}