{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table-04",
  "title": "Data Table 4",
  "description": "Product inventory table with images, badges, and advanced filtering by multiple attributes",
  "dependencies": [
    "lucide-react",
    "@tanstack/react-table"
  ],
  "registryDependencies": [
    "avatar",
    "badge",
    "checkbox",
    "input",
    "label",
    "select",
    "table",
    "utils"
  ],
  "files": [
    {
      "path": "src/components/shadcn-studio/data-table/data-table-04.tsx",
      "content": "'use client'\n\nimport { useId, useMemo, useState } from 'react'\n\nimport { SearchIcon } from 'lucide-react'\n\nimport type { Column, ColumnDef, ColumnFiltersState, RowData, SortingState } from '@tanstack/react-table'\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFacetedMinMaxValues,\n  getFacetedRowModel,\n  getFacetedUniqueValues,\n  getFilteredRowModel,\n  getSortedRowModel,\n  useReactTable\n} from '@tanstack/react-table'\n\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Badge } from '@/components/ui/badge'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\nimport { cn } from '@/lib/utils'\n\ndeclare module '@tanstack/react-table' {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface ColumnMeta<TData extends RowData, TValue> {\n    filterVariant?: 'text' | 'range' | 'select'\n  }\n}\n\ntype Item = {\n  id: string\n  product: string\n  productImage: string\n  fallback: string\n  price: number\n  availability: 'In Stock' | 'Out of Stock' | 'Limited'\n  rating: number\n}\n\nconst columns: ColumnDef<Item>[] = [\n  {\n    id: 'select',\n    header: ({ table }) => (\n      <Checkbox\n        checked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n        onCheckedChange={value => table.toggleAllPageRowsSelected(!!value)}\n        aria-label='Select all'\n      />\n    ),\n    cell: ({ row }) => (\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={value => row.toggleSelected(!!value)}\n        aria-label='Select row'\n      />\n    )\n  },\n  {\n    header: 'Product',\n    accessorKey: 'product',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-3'>\n        <Avatar className='rounded-sm'>\n          <AvatarImage src={row.original.productImage} alt={row.original.fallback} />\n          <AvatarFallback className='text-xs'>{row.original.fallback}</AvatarFallback>\n        </Avatar>\n        <div className='font-medium'>{row.getValue('product')}</div>\n      </div>\n    )\n  },\n  {\n    header: 'Price',\n    accessorKey: 'price',\n    cell: ({ row }) => <div>${row.getValue('price')}</div>,\n    enableSorting: false,\n    meta: {\n      filterVariant: 'range'\n    }\n  },\n  {\n    header: 'Availability',\n    accessorKey: 'availability',\n    cell: ({ row }) => {\n      const availability = row.getValue('availability') as string\n\n      const styles = {\n        'In Stock':\n          'bg-green-600/10 text-green-600 focus-visible:ring-green-600/20 dark:bg-green-400/10 dark:text-green-400 dark:focus-visible:ring-green-400/40 [a&]:hover:bg-green-600/5 dark:[a&]:hover:bg-green-400/5',\n        'Out of Stock':\n          'bg-destructive/10 [a&]:hover:bg-destructive/5 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 text-destructive',\n        Limited:\n          'bg-amber-600/10 text-amber-600 focus-visible:ring-amber-600/20 dark:bg-amber-400/10 dark:text-amber-400 dark:focus-visible:ring-amber-400/40 [a&]:hover:bg-amber-600/5 dark:[a&]:hover:bg-amber-400/5'\n      }[availability]\n\n      return (\n        <Badge className={(cn('border-none focus-visible:outline-none'), styles)}>{row.getValue('availability')}</Badge>\n      )\n    },\n    enableSorting: false,\n    meta: {\n      filterVariant: 'select'\n    }\n  },\n  {\n    header: 'Rating',\n    accessorKey: 'rating',\n    cell: ({ row }) => <div>{row.getValue('rating')}</div>,\n    meta: {\n      filterVariant: 'range'\n    }\n  }\n]\n\nconst items: Item[] = [\n  {\n    id: '1',\n    product: 'Black Chair',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-1.png',\n    fallback: 'BC',\n    price: 159,\n    availability: 'In Stock',\n    rating: 3.9\n  },\n  {\n    id: '2',\n    product: 'Nike Jordan',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-2.png',\n    fallback: 'NJ',\n    price: 599,\n    availability: 'Limited',\n    rating: 4.4\n  },\n  {\n    id: '3',\n    product: 'OnePlus 7 Pro',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-3.png',\n    fallback: 'O7P',\n    price: 1299,\n    availability: 'Out of Stock',\n    rating: 3.5\n  },\n  {\n    id: '4',\n    product: 'Nintendo Switch',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-4.png',\n    fallback: 'NS',\n    price: 499,\n    availability: 'In Stock',\n    rating: 4.9\n  },\n  {\n    id: '5',\n    product: 'Apple magic mouse',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-5.png',\n    fallback: 'AMM',\n    price: 970,\n    availability: 'Limited',\n    rating: 4.1\n  },\n  {\n    id: '6',\n    product: 'Apple watch',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-6.png',\n    fallback: 'AW',\n    price: 1500,\n    availability: 'Limited',\n    rating: 3.1\n  },\n  {\n    id: '7',\n    product: 'Casio G-Shock',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-8.png',\n    fallback: 'CGS',\n    price: 194,\n    availability: 'Out of Stock',\n    rating: 1.5\n  },\n  {\n    id: '8',\n    product: 'RayBan Sunglasses',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/products/product-10.png',\n    fallback: 'RBS',\n    price: 199,\n    availability: 'Out of Stock',\n    rating: 2.4\n  }\n]\n\nconst DataTableWithColumnFilterDemo = () => {\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\n\n  const [sorting, setSorting] = useState<SortingState>([\n    {\n      id: 'price',\n      desc: false\n    }\n  ])\n\n  const table = useReactTable({\n    data: items,\n    columns,\n    state: {\n      sorting,\n      columnFilters\n    },\n    onColumnFiltersChange: setColumnFilters,\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFacetedRowModel: getFacetedRowModel(),\n    getFacetedUniqueValues: getFacetedUniqueValues(),\n    getFacetedMinMaxValues: getFacetedMinMaxValues(),\n    onSortingChange: setSorting,\n    enableSortingRemoval: false\n  })\n\n  return (\n    <div className='w-full'>\n      <div className='rounded-md border'>\n        <div className='flex flex-wrap gap-3 px-2 py-6'>\n          <div className='w-44'>\n            <Filter column={table.getColumn('product')!} />\n          </div>\n          <div className='w-36'>\n            <Filter column={table.getColumn('price')!} />\n          </div>\n          <div className='w-44'>\n            <Filter column={table.getColumn('availability')!} />\n          </div>\n          <div className='w-36'>\n            <Filter column={table.getColumn('rating')!} />\n          </div>\n        </div>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map(headerGroup => (\n              <TableRow key={headerGroup.id} className='bg-muted/50'>\n                {headerGroup.headers.map(header => {\n                  return (\n                    <TableHead key={header.id} className='relative h-10 border-t select-none'>\n                      {header.isPlaceholder ? null : flexRender(header.column.columnDef.header, header.getContext())}\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map(row => (\n                <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'}>\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id}>{flexRender(cell.column.columnDef.cell, cell.getContext())}</TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className='h-24 text-center'>\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <p className='text-muted-foreground mt-4 text-center text-sm'>Data table with column filter</p>\n    </div>\n  )\n}\n\nfunction Filter({ column }: { column: Column<any, unknown> }) {\n  const id = useId()\n  const columnFilterValue = column.getFilterValue()\n  const { filterVariant } = column.columnDef.meta ?? {}\n  const columnHeader = typeof column.columnDef.header === 'string' ? column.columnDef.header : ''\n\n  const sortedUniqueValues = useMemo(() => {\n    if (filterVariant === 'range') return []\n\n    const values = Array.from(column.getFacetedUniqueValues().keys())\n\n    const flattenedValues = values.reduce((acc: string[], curr) => {\n      if (Array.isArray(curr)) {\n        return [...acc, ...curr]\n      }\n\n      return [...acc, curr]\n    }, [])\n\n    return Array.from(new Set(flattenedValues)).sort()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [column.getFacetedUniqueValues(), filterVariant])\n\n  if (filterVariant === 'range') {\n    return (\n      <div className='*:not-first:mt-2'>\n        <Label>{columnHeader}</Label>\n        <div className='flex'>\n          <Input\n            id={`${id}-range-1`}\n            className='flex-1 rounded-r-none [-moz-appearance:_textfield] focus:z-10 [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none'\n            value={(columnFilterValue as [number, number])?.[0] ?? ''}\n            onChange={e =>\n              column.setFilterValue((old: [number, number]) => [\n                e.target.value ? Number(e.target.value) : undefined,\n                old?.[1]\n              ])\n            }\n            placeholder='Min'\n            type='number'\n            aria-label={`${columnHeader} min`}\n          />\n          <Input\n            id={`${id}-range-2`}\n            className='-ms-px flex-1 rounded-l-none [-moz-appearance:_textfield] focus:z-10 [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none'\n            value={(columnFilterValue as [number, number])?.[1] ?? ''}\n            onChange={e =>\n              column.setFilterValue((old: [number, number]) => [\n                old?.[0],\n                e.target.value ? Number(e.target.value) : undefined\n              ])\n            }\n            placeholder='Max'\n            type='number'\n            aria-label={`${columnHeader} max`}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  if (filterVariant === 'select') {\n    return (\n      <div className='*:not-first:mt-2'>\n        <Label htmlFor={`${id}-select`}>{columnHeader}</Label>\n        <Select\n          value={columnFilterValue?.toString() ?? 'all'}\n          onValueChange={value => {\n            column.setFilterValue(value === 'all' ? undefined : value)\n          }}\n        >\n          <SelectTrigger id={`${id}-select`} className='w-full'>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value='all'>All</SelectItem>\n            {sortedUniqueValues.map(value => (\n              <SelectItem key={String(value)} value={String(value)}>\n                {String(value)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n    )\n  }\n\n  return (\n    <div className='*:not-first:mt-2'>\n      <Label htmlFor={`${id}-input`}>{columnHeader}</Label>\n      <div className='relative'>\n        <Input\n          id={`${id}-input`}\n          className='peer pl-9'\n          value={(columnFilterValue ?? '') as string}\n          onChange={e => column.setFilterValue(e.target.value)}\n          placeholder={`Search ${columnHeader.toLowerCase()}`}\n          type='text'\n        />\n        <div className='text-muted-foreground/80 pointer-events-none absolute inset-y-0 left-0 flex items-center justify-center pl-3 peer-disabled:opacity-50'>\n          <SearchIcon size={16} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default DataTableWithColumnFilterDemo\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/data-table/data-table-04.tsx"
    }
  ],
  "type": "registry:component"
}